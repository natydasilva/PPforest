<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Projection Pursuit Classification Forest • PPforest</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Projection Pursuit Classification Forest">
<meta name="description" content="Implements projection pursuit forest algorithm for supervised classification.">
<meta property="og:description" content="Implements projection pursuit forest algorithm for supervised classification.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">PPforest</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/PPforest-vignette.html">PPforest</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/natydasilva/PPforest/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="ppforest-package">
<code>PPforest</code> package<a class="anchor" aria-label="anchor" href="#ppforest-package"></a>
</h1></div>
<p>Natalia da Silva, Dianne Cook &amp; Eun-Kyung Lee</p>
<p><img src="reference/figures/PPforest.png" align="right" alt="" width="160"></p>
<p><a href="https://CRAN.R-project.org/package=PPforest" class="external-link"><img src="https://www.r-pkg.org/badges/version/PPforest" alt="CRAN Status"></a><a href="https://cran.r-project.org/package=PPforest" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/grand-total/PPforest" alt="CRAN_Download_Badge"></a> <a href="https://www.r-pkg.org/pkg/PPforest" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/PPforest" alt="CRAN RStudio mirror downloads"></a></p>
</div>
<div class="section level1">
<h1 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h1>
<p>The <code>PPforest</code> package (projection pursuit random forest) contains functions to run a projection pursuit random forest for classification problems. This method utilize combinations of variables in each tree construction. In a random forest each split is based on a single variable, chosen from a subset of predictors. In the <code>PPforest</code>, each split is based on a linear combination of randomly chosen variables. The linear combination is computed by optimizing a projection pursuit index, to get a projection of the variables that best separates the classes. The <code>PPforest</code> uses the <code>PPtree</code> algorithm, which fits a single tree to the data. Utilizing linear combinations of variables to separate classes takes the correlation between variables into account, and can outperform the basic forest when separations between groups occurs on combinations of variables. Two projection pursuit indexes, LDA and PDA, are used for <code>PPforest</code>.</p>
<p>To improve the speed performance <code>PPforest</code> package, <code>PPtree</code> algorithm was translated to Rcpp. <code>PPforest</code> package utilizes a number of R packages some of them included in “suggests” not to load them all at package start-up.</p>
<p>The development version of<code>PPforest</code> can be installed from github using:</p>
<p><code><a href="https://devtools.r-lib.org/" class="external-link">library(devtools)</a></code></p>
<p><code>install_github("natydasilva/PPforest")</code></p>
<p><code><a href="https://github.com/natydasilva/PPforest">library(PPforest)</a></code></p>
<div class="section level2">
<h2 id="overview-ppforest-package">Overview PPforest package<a class="anchor" aria-label="anchor" href="#overview-ppforest-package"></a>
</h2>
<p><code>PPforest</code> package implements a classification random forest using projection pursuit classification trees. The following table present all the functions in <code>PPforest</code> package.</p>
<table class="table">
<colgroup>
<col width="21%">
<col width="78%">
</colgroup>
<thead><tr>
<th>Function</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td>baggtree</td>
<td>For each bootstrap sample grow a projection pursuit tree (PPtree object).</td>
</tr>
<tr>
<td>node_data</td>
<td>Data structure with the projected and boundary by node and class</td>
</tr>
<tr>
<td>permute_importance</td>
<td>Obtain the permuted importance variable measure</td>
</tr>
<tr>
<td>ppf_avg_imp</td>
<td>Computes a global importance measure for a PPforest object, average importance measure for a pptree over all the trees.</td>
</tr>
<tr>
<td>PPclassify</td>
<td>Predict class for the test set and calculate prediction error after finding the PPtree structure</td>
</tr>
<tr>
<td>ppf_global_imp</td>
<td>Computes a global importance measure for a PPforest object</td>
</tr>
<tr>
<td>PPforest</td>
<td>Runs a Projection pursuit random forest</td>
</tr>
<tr>
<td>PPtree_split</td>
<td>Projection pursuit classification tree with random variable selection in each split</td>
</tr>
<tr>
<td>print.PPforest</td>
<td>Print PPforest object</td>
</tr>
<tr>
<td>predict.PPforest</td>
<td>Predict a PPforest object for newdata</td>
</tr>
<tr>
<td>ternary_str</td>
<td>Data structure with the projected and boundary by node and class</td>
</tr>
</tbody>
</table>
<p>Also <code>PPforest</code> package includes some data set that were used to test the predictive performance of our method. The data sets included are: crab, fishcatch, glass, image, leukemia, lymphoma NCI60, parkinson and wine.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>Australian crab data set will be used as example. This data contains measurements on rock crabs of the genus Leptograpsus. There are 200 observations from two species (blue and orange) and for each specie (50 in each one) there are 50 males and 50 females. Class variable has 4 classes with the combinations of specie and sex (BlueMale, BlueFemale, OrangeMale and OrangeFemale). The data were collected on site at Fremantle, Western Australia. For each specimen, five measurements were made, using vernier calipers.</p>
<ol style="list-style-type: decimal">
<li>FL the size of the frontal lobe length, in mm</li>
<li>RW rear width, in mm</li>
<li>CL length of mid line of the carapace, in mm</li>
<li>CW maximum width of carapace, in mm</li>
<li>BD depth of the body; for females, measured after displacement of the abdomen, in mm</li>
</ol>
<p><code>PPforest</code> function runs a projection pursuit random forest.The arguments are a <code>data</code> a data.frame object with the data information, <code>y</code> a character with the name of the class variable. <code>size.tr</code> to specify the proportion of observations using in the training. Using this function we have the option to split the data in training and test internally in the forest and the PPforest object reports both errors. <code>size.tr</code> is the proportion of data used in the training and the test proportion will be 1- <code>size.tr</code>. The number of trees in the forest is specified using the argument <code>m</code>. The argument <code>size.p</code> is the sample proportion of the variables used in each node split, <code>PPmethod</code> is the projection pursuit index to be optimized, two options LDA and PDA are available. The algorithm can be parallelized using <code>parallel</code> and <code>cores</code> arguments.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>pprf.crab <span class="ot">&lt;-</span> PPforest<span class="sc">::</span><span class="fu">PPforest</span>(<span class="at">data =</span> crab, <span class="at">y =</span> <span class="st">"Type"</span>, <span class="at">size.tr =</span> <span class="fl">0.7</span>, <span class="at">m =</span> <span class="dv">200</span>,</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>                                <span class="at">size.p =</span>  .<span class="dv">5</span>,  <span class="at">PPmethod =</span> <span class="st">'LDA'</span>,  <span class="at">parallel =</span><span class="cn">TRUE</span>, <span class="at">cores =</span> <span class="dv">2</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a>pprf.crab</span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" tabindex="-1"></a>Call<span class="sc">:</span></span>
<span id="cb1-10"><a href="#cb1-10" tabindex="-1"></a> <span class="fu">PPforest</span>(<span class="at">data =</span> crab, <span class="at">y =</span> <span class="st">"Type"</span>, <span class="at">xstd =</span> <span class="st">"no"</span>, <span class="at">size.tr =</span> <span class="dv">1</span>, <span class="at">m =</span> <span class="dv">3</span>,  <span class="at">PPmethod =</span> <span class="st">"LDA"</span>, <span class="at">size.p =</span> <span class="dv">1</span>, <span class="at">parallel =</span> <span class="cn">TRUE</span>, <span class="at">cores =</span> <span class="dv">2</span>,      <span class="at">rule =</span> <span class="dv">1</span>) </span>
<span id="cb1-11"><a href="#cb1-11" tabindex="-1"></a>               Type of random forest<span class="sc">:</span> Classification</span>
<span id="cb1-12"><a href="#cb1-12" tabindex="-1"></a>                     Number of trees<span class="sc">:</span> <span class="dv">3</span></span>
<span id="cb1-13"><a href="#cb1-13" tabindex="-1"></a>No. of variables tried at each split<span class="sc">:</span> <span class="dv">5</span></span>
<span id="cb1-14"><a href="#cb1-14" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" tabindex="-1"></a>        OOB estimate of  error rate<span class="sc">:</span> <span class="fl">26.5</span>%</span>
<span id="cb1-16"><a href="#cb1-16" tabindex="-1"></a>Confusion matrix<span class="sc">:</span></span>
<span id="cb1-17"><a href="#cb1-17" tabindex="-1"></a>             BlueFemale BlueMale OrangeFemale OrangeMale class.error</span>
<span id="cb1-18"><a href="#cb1-18" tabindex="-1"></a>BlueFemale           <span class="dv">48</span>        <span class="dv">2</span>            <span class="dv">0</span>          <span class="dv">0</span>        <span class="fl">0.04</span></span>
<span id="cb1-19"><a href="#cb1-19" tabindex="-1"></a>BlueMale             <span class="dv">21</span>       <span class="dv">29</span>            <span class="dv">0</span>          <span class="dv">0</span>        <span class="fl">0.42</span></span>
<span id="cb1-20"><a href="#cb1-20" tabindex="-1"></a>OrangeFemale         <span class="dv">14</span>        <span class="dv">0</span>           <span class="dv">33</span>          <span class="dv">3</span>        <span class="fl">0.34</span></span>
<span id="cb1-21"><a href="#cb1-21" tabindex="-1"></a>OrangeMale           <span class="dv">13</span>        <span class="dv">0</span>            <span class="dv">0</span>         <span class="dv">37</span>        <span class="fl">0.26</span></span>
<span id="cb1-22"><a href="#cb1-22" tabindex="-1"></a></span></code></pre></div>
<p><code>PPforest</code> print a summary result from the model with the confusion matrix information and the oob-error rate in a similar way randomForest packages does.</p>
<p>This function returns the predicted values of the training data, training error, test error and predicted test values. Also there is the information about out of bag error for the forest and also for each tree in the forest. Bootstrap samples, output of all the trees in the forest from , proximity matrix and vote matrix, number of trees grown in the forest, number of predictor variables selected to use for splitting at each node. Confusion matrix of the prediction (based on OOb data), the training data and test data and vote matrix are also returned.</p>
<p>The printed version of a <code>PPforest</code> object follows the <code>randomForest</code> printed version to make them comparable. Based on confusion matrix, we can observe that the biggest error is for BlueMale class. Most of the wrong classified values are between BlueFemale and BlueMale.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="fu">str</span>(pprf.crab, <span class="at">max.level =</span> <span class="dv">1</span>)</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a>List of <span class="dv">28</span></span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a> <span class="sc">$</span> predicting.training<span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">4</span> levels <span class="st">"BlueFemale"</span>,<span class="st">"BlueMale"</span>,..<span class="sc">:</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> ...</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a> <span class="sc">$</span> training.error     <span class="sc">:</span> num <span class="fl">0.0571</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a> <span class="sc">$</span> prediction.test    <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">4</span> levels <span class="st">"BlueFemale"</span>,<span class="st">"BlueMale"</span>,..<span class="sc">:</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> ...</span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a> <span class="sc">$</span> error.test         <span class="sc">:</span> num <span class="fl">0.0667</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a> <span class="sc">$</span> oob.error.forest   <span class="sc">:</span> num <span class="fl">0.0643</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a> <span class="sc">$</span> oob.error.tree     <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">200</span>, <span class="dv">1</span>] <span class="fl">0.1961</span> <span class="fl">0.0625</span> <span class="fl">0.1429</span> <span class="fl">0.0408</span> <span class="fl">0.1923</span> ...</span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a> <span class="sc">$</span> boot.samp          <span class="sc">:</span>List of <span class="dv">200</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a> <span class="sc">$</span> output.trees       <span class="sc">:</span>List of <span class="dv">200</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a> <span class="sc">$</span> proximity          <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">140</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">140</span>] <span class="dv">0</span> <span class="fl">0.79</span> <span class="fl">0.735</span> <span class="fl">0.8</span> <span class="fl">0.36</span> <span class="fl">0.825</span> <span class="fl">0.71</span> <span class="fl">0.265</span> <span class="fl">0.46</span> <span class="fl">0.36</span> ...</span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a> <span class="sc">$</span> votes              <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">140</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>] <span class="fl">0.243</span> <span class="fl">0.288</span> <span class="fl">0.183</span> <span class="fl">0.235</span> <span class="fl">0.835</span> ...</span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a>  ..<span class="sc">-</span> <span class="fu">attr</span>(<span class="sc">*</span>, <span class="st">"dimnames"</span>)<span class="ot">=</span>List of <span class="dv">2</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a> <span class="sc">$</span> prediction.oob     <span class="sc">:</span> Factor w<span class="sc">/</span> <span class="dv">4</span> levels <span class="st">"BlueFemale"</span>,<span class="st">"BlueMale"</span>,..<span class="sc">:</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">1</span> <span class="dv">2</span> <span class="dv">1</span> ...</span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a> <span class="sc">$</span> n.tree             <span class="sc">:</span> num <span class="dv">200</span></span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a> <span class="sc">$</span> n.var              <span class="sc">:</span> int <span class="dv">3</span></span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a> <span class="sc">$</span> type               <span class="sc">:</span> chr <span class="st">"Classification"</span></span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a> <span class="sc">$</span> confusion          <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="dv">33</span> <span class="dv">4</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">2</span> <span class="dv">31</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">0</span> ...</span>
<span id="cb2-19"><a href="#cb2-19" tabindex="-1"></a>  ..<span class="sc">-</span> <span class="fu">attr</span>(<span class="sc">*</span>, <span class="st">"dimnames"</span>)<span class="ot">=</span>List of <span class="dv">2</span></span>
<span id="cb2-20"><a href="#cb2-20" tabindex="-1"></a> <span class="sc">$</span> call               <span class="sc">:</span> language PPforest<span class="sc">::</span><span class="fu">PPforest</span>(<span class="at">data =</span> crab, <span class="at">y =</span> <span class="st">"Type"</span>, <span class="at">size.tr =</span> <span class="fl">0.7</span>, <span class="at">m =</span> <span class="dv">200</span>, <span class="at">PPmethod =</span> <span class="st">"LDA"</span>, <span class="at">size.p =</span> <span class="fl">0.5</span>,      parallel<span class="sc">|</span> __truncated__</span>
<span id="cb2-21"><a href="#cb2-21" tabindex="-1"></a> <span class="sc">$</span> train              <span class="sc">:</span><span class="st">'data.frame'</span><span class="sc">:</span>    <span class="dv">140</span> obs. of  <span class="dv">6</span> variables<span class="sc">:</span></span>
<span id="cb2-22"><a href="#cb2-22" tabindex="-1"></a> <span class="er">$</span> test               <span class="sc">:</span><span class="st">'data.frame'</span><span class="sc">:</span>    <span class="dv">60</span> obs. of  <span class="dv">6</span> variables<span class="sc">:</span></span>
<span id="cb2-23"><a href="#cb2-23" tabindex="-1"></a> <span class="er">$</span> vote.mat           <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">200</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">140</span>] <span class="dv">1</span> <span class="dv">2</span> <span class="dv">4</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">2</span> <span class="dv">4</span> <span class="dv">1</span> <span class="dv">1</span> ...</span>
<span id="cb2-24"><a href="#cb2-24" tabindex="-1"></a>  ..<span class="sc">-</span> <span class="fu">attr</span>(<span class="sc">*</span>, <span class="st">"dimnames"</span>)<span class="ot">=</span>List of <span class="dv">2</span></span>
<span id="cb2-25"><a href="#cb2-25" tabindex="-1"></a> <span class="sc">$</span> vote.mat_cl        <span class="sc">:</span> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>] <span class="st">"BlueFemale"</span> <span class="st">"BlueMale"</span> <span class="st">"OrangeFemale"</span> <span class="st">"OrangeMale"</span></span>
<span id="cb2-26"><a href="#cb2-26" tabindex="-1"></a> <span class="sc">$</span> class.var          <span class="sc">:</span> chr <span class="st">"Type"</span></span>
<span id="cb2-27"><a href="#cb2-27" tabindex="-1"></a> <span class="sc">$</span> oob.obs            <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">200</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">140</span>] <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">0</span> <span class="dv">1</span> <span class="dv">1</span> <span class="dv">0</span> <span class="dv">1</span> ...</span>
<span id="cb2-28"><a href="#cb2-28" tabindex="-1"></a> <span class="sc">$</span> std                <span class="sc">:</span> chr <span class="st">"scale"</span></span>
<span id="cb2-29"><a href="#cb2-29" tabindex="-1"></a> <span class="sc">$</span> dataux             <span class="sc">:</span> num [<span class="dv">1</span><span class="sc">:</span><span class="dv">140</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="sc">-</span><span class="fl">2.14</span> <span class="sc">-</span><span class="fl">1.71</span> <span class="sc">-</span><span class="fl">1.65</span> <span class="sc">-</span><span class="fl">1.36</span> <span class="sc">-</span><span class="fl">1.28</span> ...</span>
<span id="cb2-30"><a href="#cb2-30" tabindex="-1"></a>  ..<span class="sc">-</span> <span class="fu">attr</span>(<span class="sc">*</span>, <span class="st">"dimnames"</span>)<span class="ot">=</span>List of <span class="dv">2</span></span>
<span id="cb2-31"><a href="#cb2-31" tabindex="-1"></a>  ..<span class="sc">-</span> <span class="fu">attr</span>(<span class="sc">*</span>, <span class="st">"scaled:center"</span>)<span class="ot">=</span> Named num [<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="fl">15.5</span> <span class="fl">12.8</span> <span class="dv">32</span> <span class="fl">36.3</span> <span class="dv">14</span></span>
<span id="cb2-32"><a href="#cb2-32" tabindex="-1"></a>  .. ..<span class="sc">-</span> <span class="fu">attr</span>(<span class="sc">*</span>, <span class="st">"names"</span>)<span class="ot">=</span> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="st">"FL"</span> <span class="st">"RW"</span> <span class="st">"CL"</span> <span class="st">"CW"</span> ...</span>
<span id="cb2-33"><a href="#cb2-33" tabindex="-1"></a>  ..<span class="sc">-</span> <span class="fu">attr</span>(<span class="sc">*</span>, <span class="st">"scaled:scale"</span>)<span class="ot">=</span> Named num [<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="fl">3.47</span> <span class="fl">2.57</span> <span class="fl">7.06</span> <span class="fl">7.84</span> <span class="fl">3.4</span></span>
<span id="cb2-34"><a href="#cb2-34" tabindex="-1"></a>  .. ..<span class="sc">-</span> <span class="fu">attr</span>(<span class="sc">*</span>, <span class="st">"names"</span>)<span class="ot">=</span> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="st">"FL"</span> <span class="st">"RW"</span> <span class="st">"CL"</span> <span class="st">"CW"</span> ...</span>
<span id="cb2-35"><a href="#cb2-35" tabindex="-1"></a> <span class="sc">$</span> mincol             <span class="sc">:</span> <span class="cn">NULL</span></span>
<span id="cb2-36"><a href="#cb2-36" tabindex="-1"></a> <span class="sc">$</span> maxmincol          <span class="sc">:</span> <span class="cn">NULL</span></span>
<span id="cb2-37"><a href="#cb2-37" tabindex="-1"></a> <span class="sc">$</span> train_mean         <span class="sc">:</span> Named num [<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="fl">15.5</span> <span class="fl">12.8</span> <span class="dv">32</span> <span class="fl">36.3</span> <span class="dv">14</span></span>
<span id="cb2-38"><a href="#cb2-38" tabindex="-1"></a>  ..<span class="sc">-</span> <span class="fu">attr</span>(<span class="sc">*</span>, <span class="st">"names"</span>)<span class="ot">=</span> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="st">"FL"</span> <span class="st">"RW"</span> <span class="st">"CL"</span> <span class="st">"CW"</span> ...</span>
<span id="cb2-39"><a href="#cb2-39" tabindex="-1"></a> <span class="sc">$</span> train_sd           <span class="sc">:</span> Named num [<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="fl">3.47</span> <span class="fl">2.57</span> <span class="fl">7.06</span> <span class="fl">7.84</span> <span class="fl">3.4</span></span>
<span id="cb2-40"><a href="#cb2-40" tabindex="-1"></a>  ..<span class="sc">-</span> <span class="fu">attr</span>(<span class="sc">*</span>, <span class="st">"names"</span>)<span class="ot">=</span> chr [<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>] <span class="st">"FL"</span> <span class="st">"RW"</span> <span class="st">"CL"</span> <span class="st">"CW"</span> ...</span>
<span id="cb2-41"><a href="#cb2-41" tabindex="-1"></a> <span class="sc">-</span> <span class="fu">attr</span>(<span class="sc">*</span>, <span class="st">"class"</span>)<span class="ot">=</span> chr <span class="st">"PPforest"</span></span></code></pre></div>
<p>Since the <code>PPforest</code> object was using and internal split we can check the test error as follows</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>pprf.crab<span class="sc">$</span>error.test</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>[<span class="dv">1</span>] <span class="fl">0.06666667</span></span></code></pre></div>
<p>We also can split the data outside the forest and fit <code>PPforest</code> using a training sample and we should define the argument as <code>size.tr = 1</code>. The prediction in the test data can be donde using the function predict.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span> <span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span> <span class="va">train</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">crab</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">crab</span><span class="op">)</span><span class="op">*</span><span class="fl">.7</span><span class="op">)</span></span>
<span> <span class="va">crab_train</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">crab</span><span class="op">[</span><span class="va">train</span>, <span class="op">]</span><span class="op">)</span></span>
<span> <span class="va">crab_test</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">crab</span><span class="op">[</span><span class="op">-</span><span class="va">train</span>, <span class="op">]</span><span class="op">)</span></span>
<span></span>
<span> <span class="va">pprf.crab</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/PPforest.html">PPforest</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">crab_train</span>, class <span class="op">=</span> <span class="st">'Type'</span>,</span>
<span>   std <span class="op">=</span> <span class="st">'scale'</span>, size.tr <span class="op">=</span> <span class="fl">1</span>, m <span class="op">=</span> <span class="fl">200</span>, size.p <span class="op">=</span> <span class="fl">.4</span>, PPmethod <span class="op">=</span> <span class="st">'LDA'</span>, parallel <span class="op">=</span> <span class="cn">TRUE</span> <span class="op">)</span></span>
<span> <span class="va">pred</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">pprf.crab</span>, newdata <span class="op">=</span> <span class="va">crab_test</span><span class="op">[</span>,<span class="op">-</span><span class="fl">1</span><span class="op">]</span>, parallel <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> </span></code></pre></div>
</div>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=PPforest" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/natydasilva/PPforest/">Browse source code</a></li>
<li><a href="https://github.com/natydasilva/PPforest/issues">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>GPL (&gt;= 2)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing PPforest</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Natalia da Silva <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/https://orcid.org/0000-0002-6031-7451" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Dianne Cook <br><small class="roles"> Author </small>   </li>
<li>Eun-Kyung Lee <br><small class="roles"> Author </small>   </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Natalia da Silva, Dianne Cook, Eun-Kyung Lee.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
